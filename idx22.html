<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>抖起来</title>
	<style>
		#image{
			position: absolute;
			width: 200px;
			height: 150px;
			top: 300px;
			left: 500px;
		}
	</style>
	<script src="js/my.js"></script>
	<script>
		window.onload=function(){
			var img=getById('image');
			img.onmouseover=function(){				
			// 	var arr=[];	
			// 	if(!img.oldState){
			// 		img.oldState=parseInt(getStyle(img,'left'));
			// 	}	
			// 	var idx=0;
			// 	for(var i=20;i>0;i-=2){
			// 		arr.push(i,-i);
			// 	}
			// 	arr.push(0);
			// 	clearInterval(img.shake_timer);
			// 	img.shake_timer=setInterval(function(){
			// 		img.style.left=img.oldState+arr[idx]+'px';
			// 		idx++;
			// 		if(idx>arr.length-1){
			// 			clearInterval(img.shake_timer);
			// 		}
			// 	},60);
			doShake(img,'top',20);
			};
			
		}

		function doShake(obj,dir,offset){
			var arr=[];	
			if(!obj.oldState){
				obj.oldState=parseInt(getStyle(obj,dir));
			}	
			var idx=0;
			for(var i=offset;i>0;i-=2){
				arr.push(i,-i);
			}
			arr.push(0);
			clearInterval(obj.shake_timer);
			obj.shake_timer=setInterval(function(){
				obj.style[dir]=obj.oldState+arr[idx]+'px';
				idx++;
				if(idx>arr.length-1){
					clearInterval(obj.shake_timer);
				}
			},60);
		}
	</script>
</head>
<body>
	<img src="img/lj1.jpg" id="image">
</body>
</html>